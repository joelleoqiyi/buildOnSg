{"version":3,"sources":["patient.js"],"names":["received","serv","patientSignIn","patientID","document","getElementById","value","patientName","length","textContent","fetch","body","JSON","stringify","then","res","json","data","msg","detailBox","classList","remove","add","ward","bed","details","paraContainer","createElement","paraMessage","createTextNode","append","submitPaitent","checked","console","log","alert","window","addEventListener"],"mappings":"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","file":"patient.da1d2fc2.js","sourceRoot":"..","sourcesContent":["var received = null\n\nserv = 'ok' //acts as server input\n//details = 'Y'\n//serv = none\nfunction patientSignIn(){\n  var patientID = document.getElementById('patient-id').value\n  var patientName = document.getElementById('patient-name').value\n\n  //checks if all the information is filled out\n  if (patientID.length === 0 || patientName.length === 0){\n      document.getElementById('msg').textContent = 'Empty fields detected. Please enter patient ID or name.' \n  }\n  \n  //send this sht to server\n  fetch(\"http://buildonsg-tracelet.us-east-1.elasticbeanstalk.com/login/patient\", {\n    \"method\": \"POST\",\n    \"headers\": {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(\n      {\n        \"username\": patientID,\n        \"name\": patientName\n      }\n    )\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      if (data.length > 0) {\n        msg.textContent = ''\n        const detailBox = document.getElementById('login-box')\n        detailBox.classList.remove('login-box')\n        detailBox.classList.add('login-box-patient')\n        document.getElementById('patient-id').value = `Ward Number: ${data[0].ward}`\n        document.getElementById('patient-name').value = `Bed Number: ${data[0].bed}`;\n        document.getElementById('submit1').classList.add('hide')\n\n        var details = document.getElementById('details')\n        var paraContainer = document.createElement('p')\n        var paraMessage = document.createTextNode('Do you wish to accept any visitors currently?')\n        paraContainer.append(paraMessage)\n        details.append(paraContainer)\n\n        document.getElementById('switch-container').classList.remove('hide')\n        document.getElementById('submit2').classList.remove('hide')\n        document.getElementById('submit2').classList.add('btn')\n      } else if (data.length == 0) {\n        msg.textContent = 'Sorry patient not found. Please try again.'\n      }\n    })\n}\n\n//to be send to the server\nfunction submitPaitent(){\n  value = document.getElementById('switch-btn').checked\n  console.log(value)\n  alert('Changes made is successful!')\n  // window.location.href=\"https://a-1-test-1.rea123.repl.co/index.html\" //update this\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  document.getElementById('submit1').addEventListener('click', patientSignIn);\n})"]}