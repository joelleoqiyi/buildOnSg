{"version":3,"sources":["script.js"],"names":["sendDeclarationRequest","fetch","body","JSON","stringify","visitingDate","value","firstName","lastName","NRIC","email","relationship","address","patientFirstName","patientLastName","ward","bed","de1","checked","de2","de3","giveMeVal","then","res","blob","data","urlCreator","window","URL","webkitURL","displayImage","src","createObjectURL","displayContainer","classList","remove","console","log","catch","err","errorMessage","innerText","name","regex","RegExp","url","location","href","results","exec","decodeURIComponent","replace","submitButton","document","getElementById","setup","addEventListener","alert"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["function sendDeclarationRequest() {\n    fetch(\"http://buildonsg-tracelet.us-east-1.elasticbeanstalk.com/healthdeclaration\", {\n        \"method\": \"POST\",\n        \"headers\": {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(\n                {\n                    \"date\": visitingDate.value,\n                    \"firstName\": firstName.value,\n                    \"lastName\": lastName.value,\n                    \"nric\": NRIC.value,\n                    \"email\": email.value,\n                    \"relationship\": relationship.value,\n                    \"address\": address.value,\n                    \"patientFirstName\": patientFirstName.value,\n                    \"patientLastName\": patientLastName.value,\n                    \"ward\": ward.value,\n                    \"bed\": bed.value,\n                    \"de1\": de1.checked,\n                    \"de2\": de2.checked,\n                    \"de3\": de3.checked,\n                    \"id\": giveMeVal('id')\n                }\n            )\n    })\n        .then((res) => res.blob())\n        .then((data) => {            \n            const urlCreator = window.URL || window.webkitURL;\n            displayImage.src = urlCreator.createObjectURL(data);\n            displayContainer.classList.remove('hide');\n            console.log('image is displaying');\n        })\n        .catch((err) => {\n            errorMessage.innerText = `Something went wrong. Please try again! Error Message: ${err}`;\n        })\n\n        console.log({\n            \"date\": visitingDate.value,\n            \"firstName\": firstName.value,\n            \"lastName\": lastName.value,\n            \"nric\": NRIC.value,\n            \"email\": email.value,\n            \"relationship\": relationship.value,\n            \"address\": address.value,\n            \"patientFirstName\": patientFirstName.value,\n            \"patientLastName\": patientLastName.value,\n            \"ward\": ward.value,\n            \"bed\": bed.value,\n            \"de1\": de1.checked,\n            \"de2\": de2.checked,\n            \"de3\": de3.checked,\n            \"id\": giveMeVal('id')\n        })\n}\n\n\nfunction giveMeVal(name) {\n    const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\");\n    const url = window.location.href;\n    const results = regex.exec(url)\n    if (!results || !results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nconst submitButton = document.getElementById('submit');\nconst firstName = document.getElementById('fname');\nconst lastName = document.getElementById('lname');\nconst NRIC = document.getElementById('nric');\nconst relationship = document.getElementById('rs');\nconst email = document.getElementById('email');\nconst address = document.getElementById('address');\nconst patientFirstName = document.getElementById('pfname');\nconst patientLastName = document.getElementById('plname');\nconst ward = document.getElementById('ward');\nconst bed = document.getElementById('bed');\nconst visitingDate = document.getElementById('date');\nconst de1 = document.getElementById('n1');\nconst de2 = document.getElementById('n2');\nconst de3 = document.getElementById('n3');\nconst displayImage = document.getElementById('image');\nconst errorMessage = document.getElementById('errorMsg');\nconst displayContainer = document.getElementById('displayContainer');\n\n// setting the values based on the url\nfunction setup() {\n    firstName.value = giveMeVal('fn');\n    lastName.value = giveMeVal('ln');\n    NRIC.value = giveMeVal('nric');\n    relationship.value = giveMeVal('rs');\n    email.value = giveMeVal('e').replace(/\\-+/g, '.').replace(/_+/, '@');\n    address.value = giveMeVal('a').replace(/\\-+/g, ' ');\n    patientFirstName.value = giveMeVal('pfn');\n    patientLastName.value = giveMeVal('pln');\n    ward.value = giveMeVal('pw');\n    bed.value = giveMeVal('pb');\n    visitingDate.value = giveMeVal('d');\n}\n\nsubmitButton.addEventListener('click', () => {\n    if (de1.checked && de2.checked && de3.checked){\n        sendDeclarationRequest(); \n    } else {\n        alert(\"You have not declared!\")\n    }\n});\n\nsetup()"]}